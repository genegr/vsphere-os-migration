all:
  vars:
    # --- Global Configuration ---
    # Set to 'true' to simulate the process without creating volumes or moving data
    # Override via CLI with: -e "dry_run=false"
    dry_run: true

    # --- vCenter Configuration ---
    vcenter_hostname: "myvcenter"
    vcenter_username: "administrator@vsphere.local"
    # Ideally, use Ansible Vault for passwords:
    vcenter_password: "SuperS3cret!"
    
    # --- Target VM Information ---
    vcenter_datacenter: "DC01"
    target_vm_name: "lin-server01"
    
    # --- Pure Storage FlashArray Configuration ---
    fa_url: "10.0.0.101"
    fa_api_token: "b5cb29e7-a93c-b40a-b02f-da2b90c8c65e"
    
    # The name of the ESXi host object as defined ON THE FLASHARRAY
    # (The Host Group or Host object the volume will be connected to)
    pure_host_name: "esxi03"

  children:
    # --- Ansible Controller (Localhost) ---
    # We run the main logic here to talk to vCenter and Pure API
    controllers:
      hosts:
        localhost:
          ansible_connection: local
          ansible_python_interpreter: /home/user01/kolla-venv/bin/python3

    # --- ESXi Hosts ---
    # The actual hypervisors where SSH commands (vmkfstools) will run
    hypervisors:
      hosts:
        esxi03:
          ansible_user: root
          ansible_password: "Password!"
          # Variable to reference this specific host in the playbook
          # (Used to delegate the vmkfstools command)
          esxi_inventory_hostname: "esxi03"
